# 🔔 HabitPilot（habit8）プロジェクト - 通知 担当指示書

## 🧑‍💻 あなたの役割：habit8_worker4
- アプリにおける**タスクリマインダー通知機能**および**時間割ベースの通知**を実装してください。

---

## 📋 主なタスク

1. **Expo Notifications による通知環境の構築**
   - 初期化・パーミッション取得・通知ハンドリングの設定

2. **タスクに基づく通知スケジューリング**
   - タスクの「開始時間」に合わせて通知を予約送信
   - デイリー・ウィークリーの繰り返しにも対応

3. **通知ON/OFF切り替えの UI 連携**
   - 通知有効/無効のトグル設定を画面側と連携
   - 通知時間指定と連動（モーダルやピッカー形式可）

4. **通知履歴/既読管理**（あれば望ましい）
   - 通知を一覧表示し、既読管理・消去ができる仕組み

---

## 📁 成果物ファイル構成（例）

```
utils/
├── notifications.ts      # 通知スケジューリング / 送信 / キャンセル処理

hooks/
├── useReminder.ts        # カスタム通知用 React Hook（登録・削除）

screens/
├── SettingsScreen.tsx    # 通知時間設定の UI を含む画面（連携部分）
```

---

## 🛠 使用技術スタック

- **Expo Notifications**
- **React Native Hooks**
- **Date-fns**（日付操作が必要な場合）
- **AsyncStorage**（設定保存に使う場合）

---

## 🔍 補足ポイント

- 通知識別 ID を保存しておくことでキャンセル処理が可能
- iOS/Android で通知制限の違いがあるため要検証（特に iOS）
- 通知をタスク ID に紐づけて管理できるようにしておくと拡張性が高い

---

## 🎯 成功条件

- タスクに基づく通知が正しく届き、UI と連携できている
- 通知設定のON/OFFが直感的で使いやすい
- 毎日・週単位など複雑なスケジュールでも安定して通知される
